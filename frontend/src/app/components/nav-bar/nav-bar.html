<div class="sidebar-wrapper">
  <div class="sidebar d-flex flex-column text-white min-vh-100">
    <a
      routerLink="/"
      class="logo d-flex align-items-center px-4 py-3 text-white text-decoration-none"
    >
      <i class="bi bi-bootstrap fs-3"></i>
      <span class="ms-2 fs-5 fw-bold d-none d-sm-inline">01Blog</span>
    </a>

    <ul class="nav nav-pills flex-column mb-auto px-3 pt-2" id="menu">
      <li class="nav-item">
        <a
          routerLink="/"
          routerLinkActive="active"
          class="nav-link d-flex align-items-center"
          [routerLinkActiveOptions]="{ exact: true }"
        >
          <i class="bi bi-house fs-5"></i>
          <span class="ms-2 d-none d-sm-inline">Home</span>
        </a>
      </li>

      <li class="nav-item">
        <a routerLink="/notifications" class="nav-link d-flex align-items-center position-relative">
          <i class="bi bi-bell fs-5"></i>
          @if (countofnotifs > 0) {
          <span class="notification-badge">
            {{ countofnotifs > 99 ? '99+' : countofnotifs }}
          </span>
          }

          <span class="ms-2 d-none d-sm-inline">Notifications</span>
        </a>
      </li>

      <li class="nav-item">
        <a href="#search" class="nav-link d-flex align-items-center">
          <i class="bi bi-search fs-5"></i>
          <span class="ms-2 d-none d-sm-inline">Search</span>
        </a>
      </li>

      <li class="nav-item">
        <a
          routerLink="/profile/{{ user.uuid }}"
          routerLinkActive="active"
          class="nav-link d-flex align-items-center"
        >
          <i class="bi bi-person fs-5"></i>
          <span class="ms-2 d-none d-sm-inline">Profile</span>
        </a>
      </li>

      <li class="nav-item">
        <a
          routerLink="/create-post"
          routerLinkActive="active"
          class="nav-link d-flex align-items-center"
        >
          <i class="bi bi-plus-circle-fill fs-5"></i>
          <span class="ms-2 d-none d-sm-inline">Create Post</span>
        </a>
      </li>

      @if (user.role === 'ADMIN') {
      <li class="nav-item">
        <a href="#dashboard" class="nav-link d-flex align-items-center admin-link">
          <i class="bi bi-sliders fs-5"></i>
          <span class="ms-2 d-none d-sm-inline">Dashboard</span>
        </a>
      </li>
      }

      <li class="nav-item">
        <a class="nav-link d-flex align-items-center text-danger" (click)="logout()">
          <i class="bi bi-box-arrow-right fs-5"></i>
          <span class="ms-2 d-none d-sm-inline">Logout</span>
        </a>
      </li>
    </ul>

    <hr class="mx-3 text-white-50" />
    <div class="dropdown px-3 pb-3">
      <a
        routerLink="/profile/{{ user.uuid }}"
        class="d-flex align-items-center text-white text-decoration-none dropdown-toggle"
        id="dropdownUser"
      >
        <img
          [src]="'http://localhost:8080/image/' + user.urlPhoto"
          alt="User"
          width="36"
          height="36"
          class="rounded-circle border border-light"
        />
        <span class="ms-2 d-none d-sm-inline fw-medium">{{ user.username }}</span>
      </a>
    </div>
  </div>
</div>
