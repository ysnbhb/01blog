<div class="app-layout">
  @if (user) {
  <div class="d-flex h-100">
    <app-nav-bar [user]="user"></app-nav-bar>
    @if (post) {
    <div class="content-wrapper flex-grow-1 overflow-auto">
      <div class="container post-view-container my-4">
        <app-post
          [post]="post"
          [user]="user"
          [showAll]="true"
          (remove)="addPost($event)"
          (report)="setReport($event)"
          class="w-100 d-flex justify-content-center"
        ></app-post>
      </div>
    </div>
    }@else {
    <div
      class="content-wrapper flex-grow-1 d-flex justify-content-center align-items-center bg-light"
    >
      <div class="not-found text-center p-5">
        <div class="icon mb-4">
          <i class="bi bi-file-earmark-x display-1 text-danger"></i>
        </div>
        <h3 class="fw-semibold text-dark mb-3">Post not found</h3>
        <p class="text-muted mb-4 fs-6">
          The post you're looking for doesn't exist or has been removed.
        </p>
        <a routerLink="/" class="btn btn-primary btn-lg rounded-pill px-5 shadow-sm">
          <i class="bi bi-house me-2"></i>Go to Home
        </a>
      </div>
    </div>
    }
  </div>
  }
</div>

@if (isreport) {
<app-report-popup
  (confirmreport)="reported($event)"
  (error)="setError($event)"
  (succues)="setSuccues($event)"
  [postId]="post.id"
></app-report-popup>
} @if (error) {
<app-error-show [error]="error"></app-error-show>
} @if (delete){
<app-delete-post-popup (confirm)="confirmDelete($event)"></app-delete-post-popup>
} @if (succues){
<app-succues-show [succues]="succues"></app-succues-show>
}
